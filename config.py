"""
Tushare 数据下载器配置文件
"""
import os

# =====================================================
# Tushare API 配置
# =====================================================
TUSHARE_TOKEN = "cdedc155a8f651348e78323b141973e7d07abc4eaeb2aec1d24311392cb6"
TUSHARE_API_URL = "http://106.54.191.157:5000"

# =====================================================
# 数据存储配置
# =====================================================
DATA_DIR = "/home/project/tushare-downloader/tushare_data"

# =====================================================
# 限流配置
# =====================================================
# 每分钟最大请求数 (RPM)
MAX_REQUESTS_PER_MINUTE = 200
# 令牌桶容量
TOKEN_BUCKET_CAPACITY = 200
# 令牌补充速率 (每秒)
TOKEN_REFILL_RATE = MAX_REQUESTS_PER_MINUTE / 60.0  # ~3.33 tokens/sec

# =====================================================
# 重试配置
# =====================================================
MAX_RETRIES = 5
BASE_RETRY_DELAY = 2.0  # 秒
MAX_RETRY_DELAY = 60.0  # 最大延迟秒数

# =====================================================
# 并发配置
# =====================================================
MAX_WORKERS = 10  # 线程池大小（不宜过大，配合限流）

# =====================================================
# 日期范围配置
# =====================================================
START_YEAR = 1990
END_YEAR = 2026

# =====================================================
# 日志配置
# =====================================================
LOG_DIR = os.path.join(os.path.dirname(__file__), "logs")
LOG_FORMAT = "%(asctime)s - %(levelname)s - %(name)s - %(message)s"
LOG_LEVEL = "INFO"

# =====================================================
# 数据验证配置
# =====================================================
MIN_ROWS_THRESHOLD = 0  # 最小行数阈值（0表示允许空数据）
VALIDATE_SCHEMA = True  # 是否验证Schema
